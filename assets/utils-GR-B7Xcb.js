(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();async function l(){const o=document.querySelector("#main-header"),r=document.querySelector("#main-footer"),n="/cookbook/",[c,e]=await Promise.all([fetch(`${n}components/header.html`).then(t=>t.text()),fetch(`${n}components/footer.html`).then(t=>t.text())]);o&&(o.innerHTML=c,i()),r&&(r.innerHTML=e)}function i(){const o=a("user"),r=document.getElementById("auth-links");r&&(o?(r.innerHTML=`
      <span>Welcome to your CookBook ${o.username}</span>
      <a href="#" id="logout-btn">Logout</a>
    `,document.getElementById("logout-btn").addEventListener("click",()=>{localStorage.removeItem("user"),window.location.href="/cookbook/index.html"})):r.innerHTML='<a href="/cookbook/login.html">Login</a>')}function u(o,r){localStorage.setItem(o,JSON.stringify(r))}function a(o){return JSON.parse(localStorage.getItem(o))}function f(o){return new URLSearchParams(location.search).get(o)}export{a,f as g,l,u as s};
